<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Actividad Clase 4</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f4f6f8;
  margin: 0;
  padding: 0;
}

.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

h1, h2 {
  color: #2c3e50;
}

h1 {
  text-align: center;
}

.section {
  margin-top: 30px;
}

label {
  font-weight: bold;
}

.line {
  border-bottom: 1px solid #ccc;
  margin: 8px 0 16px 0;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}

th {
  background-color: #e9eef3;
}

.note {
  background: #eef7ff;
  padding: 15px;
  border-left: 4px solid #3498db;
  margin-top: 20px;
}

.diagrama {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  flex-wrap: wrap;
  margin: 20px 0;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #dee2e6;
}

.diagrama-box {
  padding: 10px 16px;
  background: #3498db;
  color: white;
  border-radius: 6px;
  font-weight: bold;
  font-size: 14px;
}

.diagrama-box.sd {
  background: #9b59b6;
}

.diagrama-flecha {
  font-size: 20px;
  color: #2c3e50;
}

.diagrama-leyenda {
  font-size: 13px;
  color: #555;
  margin-top: 10px;
}

.footer {
  margin-top: 30px;
  padding: 15px;
  background: #f1f1f1;
  border-radius: 8px;
}
</style>
</head>
<body>

<div class="container">

<h1>ğŸŒ Actividad Clase 4</h1>
<h2>ComunicaciÃ³n entre Servicios + REST + Eventos + Service Discovery</h2>

<p><strong>Equipo:</strong> Elkin Yandun, Brayan Cruz, Julian Ceron, Jeison Guerra</p>
<p><strong>Proyecto:</strong> Nomo</p>

<div class="section">
<h2>ğŸªœ 1. Interacciones entre Servicios</h2>

<p><strong>InteracciÃ³n 1</strong></p>
<label>Servicio que envÃ­a: </label>
<div class="line">Servicio de Usuarios / Frontend</div>
<label>Servicio que recibe:</label>
<div class="line">Servicio de AutenticaciÃ³n</div>
<label>InformaciÃ³n enviada:</label>
<div class="line">Credenciales (usuario y contraseÃ±a)</div>
<label>Â¿QuÃ© sucede si no responde?</label>
<div class="line">El usuario no podrÃ­a iniciar sesiÃ³n ni acceder al sistema.</div>

<p><strong>InteracciÃ³n 2</strong></p>
<label>Servicio que envÃ­a: </label>
<div class="line">Servicio de PÃ¡ginas Web</div>
<label>Servicio que recibe:</label>
<div class="line">Base de datos (Supabase)</div>
<label>InformaciÃ³n enviada:</label>
<div class="line">Configuraciones de la pÃ¡gina, detalles del negocio y datos a almacenar</div>
<label>Â¿QuÃ© sucede si no responde?</label>
<div class="line">No se podrÃ­a almacenar ni consultar informaciÃ³n; las pÃ¡ginas no podrÃ­an guardarse ni desplegarse.</div>

<p><strong>InteracciÃ³n 3</strong></p>
<label>Servicio que envÃ­a: </label>
<div class="line">Servicio de ImÃ¡genes / PÃ¡ginas Web</div>
<label>Servicio que recibe:</label>
<div class="line">Cloudinary (almacenamiento de imÃ¡genes)</div>
<label>InformaciÃ³n enviada:</label>
<div class="line">Archivos multimedia (imÃ¡genes) para productos y pÃ¡ginas</div>
<label>Â¿QuÃ© sucede si no responde?</label>
<div class="line">No se podrÃ­an subir ni visualizar imÃ¡genes; el usuario tendrÃ­a que usar solo texto.</div>
</div>

<div class="section">
<h2>ğŸªœ 2. REST o Eventos</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>REST</th>
<th>Evento</th>
<th>Â¿Por quÃ©?</th>
</tr>
<tr>
<td>Usuarios â†’ AutenticaciÃ³n</td>
<td>â˜‘</td>
<td>â˜</td>
<td>Es una peticiÃ³n directa: el cliente envÃ­a credenciales y espera una respuesta (token/sesiÃ³n).</td>
</tr>
<tr>
<td>PÃ¡ginas Web â†’ Base de Datos</td>
<td>â˜‘</td>
<td>â˜</td>
<td>Consultas y escrituras a la BD son operaciones request-response (Supabase API REST).</td>
</tr>
<tr>
<td>PÃ¡ginas Web â†’ IA / ImÃ¡genes</td>
<td>â˜‘</td>
<td>â˜</td>
<td>Se envÃ­a una solicitud y se espera la respuesta (descripciÃ³n o URL de imagen). PodrÃ­a usarse evento para notificar cuando la imagen estÃ© lista si fuera asÃ­ncrono.</td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 3. SÃ­ncrono o AsÃ­ncrono</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>SÃ­ncrono</th>
<th>AsÃ­ncrono</th>
<th>JustificaciÃ³n</th>
</tr>
<tr>
<td>AutenticaciÃ³n</td>
<td>â˜‘</td>
<td>â˜</td>
<td>El usuario debe esperar la verificaciÃ³n para poder continuar; sin respuesta no hay sesiÃ³n.</td>
</tr>
<tr>
<td>Base de Datos</td>
<td>â˜‘</td>
<td>â˜</td>
<td>Guardar y leer datos es necesario de forma inmediata para mostrar o actualizar la pÃ¡gina.</td>
</tr>
<tr>
<td>IA / ImÃ¡genes</td>
<td>â˜‘</td>
<td>â˜</td>
<td>En la implementaciÃ³n actual se espera la respuesta. La subida de imÃ¡genes podrÃ­a ser asÃ­ncrona (colas) para no bloquear la interfaz.</td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 4. Eventos Importantes del Sistema</h2>
1ï¸âƒ£ <strong>Usuario inicia sesiÃ³n</strong> â€” Se verifica identidad y se crea la sesiÃ³n.<br><br>
2ï¸âƒ£ <strong>Usuario crea o edita una pÃ¡gina web</strong> â€” Se guarda la configuraciÃ³n en la base de datos y, si aplica, se envÃ­an imÃ¡genes a Cloudinary y consultas al servicio de IA.<br><br>
3ï¸âƒ£ <strong>Usuario publica la pÃ¡gina</strong> â€” La pÃ¡gina se despliega en Vercel y queda disponible para visitantes.
</div>

<div class="section">
<h2>ğŸªœ 5. AnÃ¡lisis de Fallos</h2>
<label>Servicio mÃ¡s crÃ­tico:</label>
<div class="line">Base de datos (Supabase) y servidor principal (Vercel). Sin ellos no hay aplicaciÃ³n ni persistencia.</div>
<label>Â¿QuÃ© pasarÃ­a si falla?</label>
<div class="line">Supabase: no se podrÃ­a almacenar ni consultar informaciÃ³n. Vercel: la aplicaciÃ³n dejarÃ­a de estar disponible.</div>
<label>Â¿El sistema debe detenerse o continuar?</label>
<div class="line">Debe intentar continuar con degradaciÃ³n: mostrar mensajes de error controlados, permitir uso sin IA (descripciÃ³n manual) o sin imÃ¡genes (placeholders), y reintentos automÃ¡ticos donde sea posible.</div>
<label>Â¿CÃ³mo podrÃ­an manejar este fallo?</label>
<div class="line">Reintento automÃ¡tico; mensajes de error comprensibles; copias de seguridad periÃ³dicas de la base de datos; monitoreo constante del sistema.</div>
</div>

<div class="section">
<h2>ğŸªœ 6. Service Discovery</h2>
<label>Â¿QuÃ© problema ocurre si cambia la IP de un servicio?</label>
<div class="line">Los demÃ¡s servicios que dependen de Ã©l no podrÃ­an conectarse; las solicitudes fallarÃ­an y habrÃ­a errores de conexiÃ³n. HabrÃ­a que actualizar manualmente las URLs en cada cliente.</div>
<label>Â¿CÃ³mo sabrÃ­a un servicio dÃ³nde encontrar otro?</label>
<div class="line">Por configuraciÃ³n estÃ¡tica (URLs hardcodeadas), variables de entorno, o mediante Service Discovery que mantiene un registro dinÃ¡mico de las ubicaciones y estados de los servicios.</div>
<label>Â¿Por quÃ© serÃ­a Ãºtil Service Discovery?</label>
<div class="line">Permite que los servicios se encuentren automÃ¡ticamente cuando cambian IPs, puertos o se aÃ±aden rÃ©plicas; facilita la escalabilidad independiente y el despliegue en entornos como contenedores o Kubernetes.</div>
<label>Â¿DÃ³nde lo aplicarÃ­an en su sistema?</label>
<div class="line">Entre el backend en Vercel y los servicios externos (Supabase, Groq, Cloudinary) cuando se escalen o se migre a mÃºltiples instancias; o entre microservicios internos si la arquitectura crece (por ejemplo, desacoplar IA, imÃ¡genes o autenticaciÃ³n en servicios propios).</div>
</div>

<div class="section">
<h2>ğŸªœ 7. Mini Diagrama</h2>
<p>Dibujen:</p>
<p><strong>Servicio de Pagina Web â†’ Service Discovery â†’ Base de Datos</strong></p>
</div>

<div class="note">
ğŸ’¡ <strong>Ayuda rÃ¡pida</strong><br>
REST â†’ peticiÃ³n directa<br>
Evento â†’ algo ocurriÃ³<br>
SÃ­ncrono â†’ espera respuesta<br>
AsÃ­ncrono â†’ continÃºa sin esperar<br>
Service Discovery â†’ permite encontrar servicios automÃ¡ticamente
</div>

<div class="footer">
ğŸ¤ El equipo debe poder explicar:<br>
âœ” una interacciÃ³n importante<br>
âœ” un evento del sistema<br>
âœ” quÃ© pasa si un servicio falla<br>
âœ” dÃ³nde usarÃ­an Service Discovery
</div>

</div>
</body>
</html>
