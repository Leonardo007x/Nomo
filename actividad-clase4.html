<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Actividad Clase 4</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #f4f6f8;
  margin: 0;
  padding: 0;
}

.container {
  max-width: 900px;
  margin: auto;
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

h1, h2 {
  color: #2c3e50;
}

h1 {
  text-align: center;
}

.section {
  margin-top: 30px;
}

label {
  font-weight: bold;
}

.line {
  border-bottom: 1px solid #ccc;
  margin: 8px 0 16px 0;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}

th {
  background-color: #e9eef3;
}

.note {
  background: #eef7ff;
  padding: 15px;
  border-left: 4px solid #3498db;
  margin-top: 20px;
}

.footer {
  margin-top: 30px;
  padding: 15px;
  background: #f1f1f1;
  border-radius: 8px;
}
</style>
</head>
<body>

<div class="container">

<h1>ğŸŒ Actividad Clase 4</h1>
<h2>ComunicaciÃ³n entre Servicios + REST + Eventos + Service Discovery</h2>

<p><strong>Equipo:</strong> Brayan Esmid Cruz Chate, Jeison Guerra, Elkin Yesid Yandun, JuliÃ¡n Leonardo CerÃ³n</p>
<p><strong>Proyecto:</strong> Nomo</p>

<div class="section">
<h2>ğŸªœ 1. Interacciones entre Servicios</h2>

<p><strong>InteracciÃ³n 1</strong></p>
<label>Servicio que envÃ­a:</label>
<div class="line">MÃ³dulo de Usuarios (frontend)</div>
<label>Servicio que recibe:</label>
<div class="line">Servicio de AutenticaciÃ³n</div>
<label>InformaciÃ³n enviada:</label>
<div class="line">Credenciales de acceso (correo y contraseÃ±a) para verificar la identidad del usuario</div>
<label>Â¿QuÃ© sucede si no responde?</label>
<div class="line">El usuario no podrÃ­a iniciar sesiÃ³n. La aplicaciÃ³n deberÃ­a mostrar un mensaje de error y ofrecer reintentar o informar que el servicio no estÃ¡ disponible.</div>

<p><strong>InteracciÃ³n 2</strong></p>
<label>Servicio que envÃ­a:</label>
<div class="line">Servicio de PÃ¡ginas Web / Productos</div>
<label>Servicio que recibe:</label>
<div class="line">Base de Datos (Supabase)</div>
<label>InformaciÃ³n enviada:</label>
<div class="line">Datos del negocio, configuraciones de la pÃ¡gina y productos para almacenar o consultar</div>
<label>Â¿QuÃ© sucede si no responde?</label>
<div class="line">No serÃ­a posible guardar ni recuperar la informaciÃ³n. El sistema deberÃ­a reintentar la operaciÃ³n y, si persiste el fallo, mostrar un mensaje claro al usuario indicando que debe intentar mÃ¡s tarde.</div>

<p><strong>InteracciÃ³n 3</strong></p>
<label>Servicio que envÃ­a:</label>
<div class="line">Servicio de ImÃ¡genes</div>
<label>Servicio que recibe:</label>
<div class="line">Cloudinary</div>
<label>InformaciÃ³n enviada:</label>
<div class="line">Archivos multimedia (imÃ¡genes de productos, logos) que el usuario sube para su negocio</div>
<label>Â¿QuÃ© sucede si no responde?</label>
<div class="line">Las imÃ¡genes no se podrÃ­an subir ni visualizar. La aplicaciÃ³n podrÃ­a permitir que el usuario continÃºe creando su pÃ¡gina y subir las imÃ¡genes despuÃ©s, o mostrar un aviso de que el almacenamiento temporalmente no estÃ¡ disponible.</div>
</div>

<div class="section">
<h2>ğŸªœ 2. REST o Eventos</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>REST</th>
<th>Evento</th>
<th>Â¿Por quÃ©?</th>
</tr>
<tr>
<td>1 (Usuarios â†’ AutenticaciÃ³n)</td>
<td>âœ“</td>
<td></td>
<td>Es una peticiÃ³n directa: el usuario envÃ­a sus credenciales y necesita una respuesta inmediata para saber si puede entrar o no al sistema.</td>
</tr>
<tr>
<td>2 (PÃ¡ginas/Productos â†’ Base de Datos)</td>
<td>âœ“</td>
<td></td>
<td>Consultas y operaciones directas a la base de datos. Se hace una peticiÃ³n y se espera obtener o confirmar los datos almacenados.</td>
</tr>
<tr>
<td>3 (ImÃ¡genes â†’ Cloudinary)</td>
<td>âœ“</td>
<td></td>
<td>Subida de archivos mediante peticiÃ³n HTTP. El servicio envÃ­a el archivo y espera la confirmaciÃ³n y la URL de la imagen subida.</td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 3. SÃ­ncrono o AsÃ­ncrono</h2>

<table>
<tr>
<th>InteracciÃ³n</th>
<th>SÃ­ncrono</th>
<th>AsÃ­ncrono</th>
<th>JustificaciÃ³n</th>
</tr>
<tr>
<td>1 (AutenticaciÃ³n)</td>
<td>âœ“</td>
<td></td>
<td>El usuario debe esperar la verificaciÃ³n para continuar. No tendrÃ­a sentido dejarlo avanzar sin saber si sus credenciales son vÃ¡lidas.</td>
</tr>
<tr>
<td>2 (Base de Datos)</td>
<td>âœ“</td>
<td></td>
<td>Se requiere la informaciÃ³n para mostrar la pÃ¡gina o confirmar que se guardÃ³ correctamente. La operaciÃ³n debe completarse antes de seguir.</td>
</tr>
<tr>
<td>3 (Cloudinary)</td>
<td>âœ“</td>
<td></td>
<td>Aunque teÃ³ricamente podrÃ­a ser asÃ­ncrona, en nuestra implementaciÃ³n el usuario espera la confirmaciÃ³n de la subida para poder usar la imagen en su sitio.</td>
</tr>
</table>
</div>

<div class="section">
<h2>ğŸªœ 4. Eventos Importantes del Sistema</h2>
1ï¸âƒ£ <b>Usuario inicia sesiÃ³n:</b> El sistema verifica las credenciales y permite o deniega el acceso al panel del negocio.<br><br>
2ï¸âƒ£ <b>Se crea o se publica una pÃ¡gina web:</b> La informaciÃ³n se guarda en la base de datos y, si corresponde, se despliega en Vercel para que los visitantes puedan verla.<br><br>
3ï¸âƒ£ <b>Se genera contenido con IA:</b> Cuando el usuario solicita una descripciÃ³n automÃ¡tica para un producto, el servicio de IA (Groq) procesa la peticiÃ³n y devuelve el texto generado.
</div>

<div class="section">
<h2>ğŸªœ 5. AnÃ¡lisis de Fallos</h2>
<label>Servicio mÃ¡s crÃ­tico:</label>
<div class="line">La base de datos (Supabase) y el servidor principal (Vercel). Sin ellos, la plataforma prÃ¡cticamente no podrÃ­a operar.</div>
<label>Â¿QuÃ© pasarÃ­a si falla?</label>
<div class="line">Si falla la base de datos, no serÃ­a posible almacenar ni consultar informaciÃ³n: los negocios no podrÃ­an editar su contenido ni los visitantes ver las pÃ¡ginas. Si falla Vercel, la aplicaciÃ³n dejarÃ­a de estar disponible por completo.</div>
<label>Â¿El sistema debe detenerse o continuar?</label>
<div class="line">Cuando falla un servicio crÃ­tico, lo ideal es que la aplicaciÃ³n no se caiga por completo sino que muestre mensajes de error comprensibles al usuario, intente reintentar la operaciÃ³n y sugiera intentar mÃ¡s tarde. Si es posible, algunas funciones secundarias (como visualizar pÃ¡ginas ya cargadas en cachÃ©) podrÃ­an seguir funcionando.</div>
<label>Â¿CÃ³mo podrÃ­an manejar este fallo?</label>
<div class="line">Implementar reintentos automÃ¡ticos, mostrar mensajes de error claros, realizar copias de seguridad periÃ³dicas de la base de datos y monitorear constantemente el estado del sistema para detectar fallos cuanto antes.</div>
</div>

<div class="section">
<h2>ğŸªœ 6. Service Discovery</h2>
<label>Â¿QuÃ© problema ocurre si cambia la IP de un servicio?</label>
<div class="line">Los demÃ¡s servicios no sabrÃ­an cÃ³mo contactarlo. Si un microservicio cambia de direcciÃ³n, las peticiones fallarÃ­an porque seguirÃ­an apuntando a la direcciÃ³n antigua, lo que provocarÃ­a errores y posiblemente caÃ­das en la comunicaciÃ³n entre componentes.</div>
<label>Â¿CÃ³mo sabrÃ­a un servicio dÃ³nde encontrar otro?</label>
<div class="line">Mediante un registro centralizado de servicios: cada servicio se registra al iniciar y actualiza su informaciÃ³n. Cuando otro necesita comunicarse con Ã©l, consulta ese registro para obtener la direcciÃ³n actual (IP, puerto o URL) sin tenerla hardcodeada.</div>
<label>Â¿Por quÃ© serÃ­a Ãºtil Service Discovery?</label>
<div class="line">Permite que los servicios se encuentren de forma dinÃ¡mica cuando hay mÃºltiples instancias, despliegues en distintos entornos o cambios de infraestructura. Evita tener que actualizar manualmente las direcciones en cada servicio y facilita la escalabilidad y el mantenimiento.</div>
<label>Â¿DÃ³nde lo aplicarÃ­an en su sistema?</label>
<div class="line">SerÃ­a especialmente Ãºtil si en el futuro Nomo tuviera mÃ¡s microservicios desplegados de forma dinÃ¡mica (por ejemplo, varias instancias del servicio de autenticaciÃ³n o del de IA para distribuir carga). En la arquitectura actual con Vercel, Supabase y Cloudinary, las URLs son relativamente fijas, pero Service Discovery ayudarÃ­a si se aÃ±adieran mÃ¡s servicios propios que puedan cambiar de ubicaciÃ³n o replicarse.</div>
</div>

<div class="section">
<h2>ğŸªœ 7. Mini Diagrama</h2>
<p>Dibujen:</p>
<p><strong>Servicio A â†’ Service Discovery â†’ Servicio B</strong></p>
</div>

<div class="note">
ğŸ’¡ <strong>Ayuda rÃ¡pida</strong><br>
REST â†’ peticiÃ³n directa<br>
Evento â†’ algo ocurriÃ³<br>
SÃ­ncrono â†’ espera respuesta<br>
AsÃ­ncrono â†’ continÃºa sin esperar<br>
Service Discovery â†’ permite encontrar servicios automÃ¡ticamente
</div>

<div class="footer">
ğŸ¤ El equipo debe poder explicar:<br>
âœ” una interacciÃ³n importante<br>
âœ” un evento del sistema<br>
âœ” quÃ© pasa si un servicio falla<br>
âœ” dÃ³nde usarÃ­an Service Discovery
</div>

</div>
</body>
</html>
